<!-- load static 꼭 넣어주세요 -->
{% load static %}
<!DOCTYPE html>
<html>
    <!-- head는 head.html에서 복붙해오세요 -->
    <head>
        <title>SMART CUT - AI 헤어 추천</title>
        <link rel="shortcut icon" href="http://127.0.0.1:8000/static/img/favicon.png" type="image/x-icon" />
        <link rel="icon" href="http://127.0.0.1:8000/static/img/favicon.png" type="image/x-icon" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scaleable=no, maximum-scale=1 user-scalable=no">
        <meta name="description" content="">
        <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
        <meta name="generator" content="Hugo 0.79.0">
    
        <!-- Google Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Abel&display=swap" rel="stylesheet">
    
        <!-- BootStrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        
        <!-- Font Awesome -->
        <script src="https://kit.fontawesome.com/b6541407c0.js" crossorigin="anonymous"></script>
        
        <!-- kakaoAPI -->
        <script
        type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=50d7e757162301b8e2e95f2462297021">
        </script>
        
        <!-- CSS -->
        <link rel="stylesheet" href="{% static 'css/14_1_salonDetails.css' %}">
    </head>
    
    <!-- body 부분은 미용실 사진 section, 메뉴탭, 별점 부분 참고하시면 될 것 같아요. -->
    <body>
        <div class="v0_9839">

            <!-- 미용실 사진 section -->
            <div class="salonPhoto">
                <div class="v0_9842">
                    <div class="v35_3286"></div>
                    <img class="salon_img" src="{{salon.shopfile.main_img.url}}">
                    <span class="salon_name">{{salon.shop_name}}<br>{{salon.sub_name}}</span>

                    <!-- 별점 -->
                    <div class="star_point">
                        {% if salon.score == 0 %}
                        <span class="v0_9891">별점</span>
                        {% else %}
                        <span class="v0_9891">{{salon.score}}</span>
                        {% endif %}
                        <i id='star_icon' class="fa-solid fa-star"></i>
                    </div>

                    <!--  최상단 그림자 효과 -->
                    <div class="shadown"></div>

                    <!-- 최상단 아이콘버튼 -->
                    <button class="back_icon" onclick="window.history.back();">
                        <i class="fa-solid fa-arrow-left-long"></i>
                    </button>
                    <button class="phone_icon" onclick="location.href='tel:{{salon.hp}}'">
                        <i class="fa-solid fa-phone"></i>
                    </button>
                    <button class="chat_icon" onclick="location.href='{% url 'chatting' %}'">
                        <i class="fa-regular fa-comment-dots"></i>
                    </button>
                </div>
            </div>
            
            <div class="v0_9840">
                <!-- 주소 -->
                <div class="address">
                    <div class="v0_9846"></div>
                    <div class="map_api">
                        <div id="map" style="width: 100%; height: 350px"></div>
                    </div>
                    <span class="v0_9860">{{salon.addr}}<br>{{salon.addr_det}}</span>
                    <span class="v0_9847">주소</span>
                </div>
                
                <!-- 영업시간 -->
                <div class="hours">
                    <div class="v0_9862"></div>
                    <div class="v0_9866">
                        <span class="v0_9867">7:30 - 11:30 AM</span>
                        <span class="v0_9868">7:30 - 11:30 AM</span>
                        <span class="v0_9869">1:30 - 5:30 PM</span>
                        <div class="v0_9870"></div>
                        <div class="v0_9871"></div>
                        <div class="v0_9872"></div>
                    </div>
                    <span class="v0_9865">토요일</span>
                    <span class="v0_9864">월요일 - 금요일</span>
                    <span class="v0_9863">영업 시간</span>
                </div>
                
                <!-- 연락처 -->
                <div class="contact">
                    <div class="v0_9874"></div>

                    <!-- 결제방식 -->
                    <span class="v0_9877">{{ salon.pay_type}} </span>
                    <i id='card_icon' class="fa-regular fa-credit-card"></i>

                    <!-- 연락처 -->
                    <span class="v0_9876" onclick="location.href='tel:{{salon.hp}}'">{{ salon.hp }}</span>
                    <i id='call_icon' class="fa-solid fa-phone"></i>

                    <span class="v0_9875">연락처</span>
                </div>
                
                <!-- 정보 -->
                <div class="information">
                    <div class="v0_9881">
                        <div class="info_title"><span class="v0_9882">정보</span></div>
                        <div class="info_text"><span class="v0_9883">{{ salon.remark }}</span></div>
                    </div>
                </div>
            </div>
            
            <!-- 메뉴 탭-->
            <div class="menu_tab">
                <div class="underline"></div>

                <!-- 소개 탭 -->
                <button class="introduction" onclick="location.href='{% url 'salon:salonDetail' salon.shop_id %}'">소개</button>
                
                <!-- 디자이너 탭 -->
                <button class="designer" onclick="location.href='{% url 'salon:salonDesigner' salon.shop_id %}'">디자이너</button>

                <!-- 사진 탭 -->
                <button class="photos" onclick="location.href='{% url 'salon:salonPhoto' salon.shop_id %}'">사진</button>

                <!-- 리뷰 탭 -->
                <button class="review" onclick="location.href = '{% url 'review:review' salon.shop_id %}'">리뷰</button>
            </div>
        </div>


    </body>
</html>


<script>
    
    var mapContainer = document.getElementById("map"), // 지도를 표시할 div
      mapOption = {
        center: new kakao.maps.LatLng(35.0995, 129.031459), // 지도의 중심좌표
        level: 4, // 지도의 확대 레벨
      };

    var map = new kakao.maps.Map(mapContainer, mapOption);

    var imageSrc =
        "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png", // 마커이미지의 주소입니다
      imageSize = new kakao.maps.Size(64, 69), // 마커이미지의 크기입니다
      imageOption = { offset: new kakao.maps.Point(27, 69) }; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.

    // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
    var markerImage = new kakao.maps.MarkerImage(
        imageSrc,
        imageSize,
        imageOption
      ),
      markerPosition = new kakao.maps.LatLng(35.0995, 129.031459); // 마커가 표시될 위치입니다

    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
      position: markerPosition,
      // 마커이미지 설정 image: markerImage,
    });

    // 마커가 지도 위에 표시되도록 설정합니다
    marker.setMap(map);

    // 커스텀 오버레이에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
    var content =
      '<div class="customoverlay">' +
      '    <span class="title">이가자헤어비스</span>' +
      "  </a>" +
      "</div>";

    // 커스텀 오버레이가 표시될 위치입니다
    var position = new kakao.maps.LatLng(35.0995, 129.031459);

    // 커스텀 오버레이를 생성합니다
    var customOverlay = new kakao.maps.CustomOverlay({
      map: map,
      position: position,
      content: content,
      yAnchor: 1,
    });
  </script>

